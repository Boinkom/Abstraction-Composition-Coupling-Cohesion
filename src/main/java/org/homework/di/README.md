# Инверсия управления и внедрение зависимостей

Добро пожаловать в техническую документацию директории `di`, которая является частью проекта `java-bot-homework`. В этой директории содержатся основные компоненты системы инверсии управления (IoC) и внедрения зависимостей (DI), которые используются для создания легко тестируемых и модульных компонентов.

Для лучшего понимания мы предоставим детальное описание каждого класса и аннотации, текущей организации и как этот код может быть использован для дальнейших расширений.

## Содержание
- [Описание классов и аннотаций](#описание-классов-и-аннотаций)
    - [Register](#register)
    - [Resolve](#resolve)
    - [DIContainer](#dicontainer)
- [Как добавить новую службу или зависимость](#как-добавить-новую-службу-или-зависимость)
- [Дополнительная информация](#дополнительная-информация)

### Описание классов и аннотаций

#### Register
Расположение: `org.homework.di.annotations.Register`
```java
@Retention(RetentionPolicy.RUNTIME)
@Target(TYPE)
public @interface Register {}
```
Аннотация `Register` используется для обозначения классов, которые должны быть автоматически зарегистрированы в DI-контейнере. Контейнер ищет все классы с этой аннотацией и регистрирует их в своем внутреннем реестре.

#### Resolve
Расположение: `org.homework.di.annotations.Resolve`
```java
@Retention(RetentionPolicy.RUNTIME)
@Target(FIELD)
public @interface Resolve {}
```
Аннотация `Resolve` используется для обозначения полей в классе, которые требуют внедрения зависимости из DI-контейнера. Всякий раз, когда создается экземпляр класса с использованием контейнера, все поля, помеченные этой аннотацией, будут автоматически заполнены соответствующими зависимостями.

#### DIContainer
Расположение: `org.homework.di.DIContainer`
```java
public class DIContainer {
    // Детали реализации...
}
```
Класс `DIContainer` является сердцем системы внедрения зависимостей. Он отвечает за автоматическую регистрацию классов, создание объектов и их зависимостей, а также управление жизненным циклом созданных объектов. DIContainer отслеживает уже созданные объекты для предотвращения повторного создания и управляет их инъекторами для полей, помеченных аннотацией `Resolve`.

### Как добавить новую службу или зависимость
Чтобы добавить новую службу, которая должна быть доступна для внедрения в другие компоненты:

1. Определите интерфейс вашего сервиса.
2. Создайте реализацию сервиса.
3. Пометьте ваш класс реализации аннотацией `@Register`.
4. Если класс должен внедрять зависимости, пометьте поля для внедрения аннотацией `@Resolve`.

### Дополнительная информация
Для лучшего понимания общей структуры проекта и его документации вы можете перейти к [основному README.md](/java-bot-homework/README.md), который находится в корне проекта. Там вы найдете обзор проекта, инструкции по сборке и запуску бота, а также информацию о вкладе в проект.

Эта документация является живым документом и может быть обновлена со временем для отражения изменений в кодовой базе и правилах предметной области. Если вы обнаружите ошибку или у вас есть предложения по улучшению, пожалуйста, не стесняйтесь вносить свой вклад в проект или обратиться за помощью.