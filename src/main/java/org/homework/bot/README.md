# Руководство по классу Bot

Этот документация предназначена для студентов и разработчиков, которые работают над Telegram ботом, реализованным в проекте "Java-bot-homework". Здесь содержится подробно описанная информация о классе `Bot`, его назначении и взаимодействии с другими компонентами в рамках Telegram бота.

## Содержание

- [Общее описание](#общее-описание)
- [Поля класса](#поля-класса)
- [Методы класса](#методы-класса)
- [Обработка команд](#обработка-команд)
- [Логирование](#логирование)
- [Интеграция с DI Container](#интеграция-с-di-container)
- [Инструкции для разработчиков](#инструкции-для-разработчиков)
- [Навигация](#навигация)

## Общее описание

Класс `Bot` является главным классом, который представляет Telegram бота и обрабатывает входящие обновления (`Update`) от пользователей. Этот класс наследуется от абстрактного класса `TelegramLongPollingBot` из библиотеки `org.telegram.telegrambots`, что позволяет легко реализовать необходимые методы для работы бота.

## Поля класса

- `commandService` - служба для обработки команд, которые вводят пользователи.
- `logger` - инструмент для логирования событий и ошибок, что облегчает отладку и мониторинг работы бота.

## Методы класса

- `getBotUsername()` - возвращает имя бота, которое используется при регистрации бота в Telegram.
- `getBotToken()` - возвращает токен API для доступа к Telegram Bot API.
- `onUpdateReceived(Update update)` - главный метод, который вызывается при получении нового обновления от Telegram. В этом методе определена логика, по которой бот отвечает на команды пользователя и обрабатывает текст сообщений.

## Обработка команд

Метод `onUpdateReceived` проверяет наличие текстовых сообщений и обрабатывает команды `/getHeroes` и `/help`, вызывая соответствующие методы `commandService`. В случае возникновения ошибки при отправке сообщения зафиксирует ошибку с помощью `logger`.

## Логирование

Класс использует `logger` для записи информационных, отладочных и ошибочных сообщений. Это позволяет отслеживать действия и выполнение бота в режиме реального времени или для последующего анализа в лог-файлах.

## Интеграция с DI Container

Класс `Bot` интегрируется с DI Container через аннотации `@Register` (регистрация компонента) и `@Resolve` (внедрение зависимостей). Благодаря этому зависимости класса `commandService` и `logger` автоматически решаются без необходимости явной инициализации объектов в коде.

## Инструкции для разработчиков

Для доработки класса `Bot` или добавления новой функциональности, следует придерживаться следующих рекомендаций:

1. При изменении методов, обеспечивайте, чтобы они соответствовали сигнатуре, заданной в интерфейсе `TelegramLongPollingBot`.
2. Убедитесь, что новые команды корректно обрабатываются в `onUpdateReceived`.
3. Расширяя логику логирования, следите за уровнями логирования и соответствующими описаниями сообщений.
4. Используйте необходимые аннотации при интеграции с DI Container.

## Навигация

Для возвращения к основному файлу `README.md` и получения информации о других частях проекта, используйте следующие ссылки:

- [Вернуться к основному README](/java-bot-homework/README.md)

---

Данное руководство помогает студентам и разработчикам более глубоко понять принципы работы класса `Bot` и его важность в структуре Telegram бота.